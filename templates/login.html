{% extends "base.html" %}

{% block title %}Iniciar Sesión - MasquePulpa{% endblock %}

{% block content %}
<main class="flex flex-1 items-center justify-center min-h-screen py-16">
  <div class="w-full max-w-md rounded-2xl bg-white shadow-lg border border-gray-200/80">
    <div class="p-8">
      <h2 class="text-3xl font-bold text-center mb-2">Bienvenido</h2>
      <p class="text-center text-gray-500 mb-8">Ingresa a tu cuenta o crea una nueva.</p>

      <!-- FORMULARIO -->
      <form method="POST" action="{{ url_for('login') }}" class="mt-8 space-y-6">
        <div>
          <label for="usuario" class="block text-sm font-medium text-gray-700 pb-2">Nombre de usuario</label>
          <input id="usuario" name="usuario" type="text" placeholder="Tu nombre de usuario"
                 required class="form-input"/>
        </div>
        <div>
          <label for="password" class="block text-sm font-medium text-gray-700 pb-2">Contraseña</label>
          <input id="password" name="password" type="password" placeholder="Tu contraseña"
                 required class="form-input"/>
        </div>
        <div>
          <button type="submit" class="primary w-full">Iniciar sesión</button>
        </div>
      </form>

      <!-- MENSAJE DE ERROR -->
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          <div class="mt-4 rounded-lg bg-red-100 border border-red-300 text-red-700 p-3 text-sm text-center">
            {% for category, message in messages %}
              <p>{{ message }}</p>
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}

      <!-- Enlaces adicionales -->
      <p class="text-center mt-4 text-sm text-gray-600">
        ¿No tienes cuenta?
        <a href="{{ url_for('register') }}" class="underline">Regístrate aquí</a>
      </p>
    </div>
  </div>
</main>
{% endblock %}

