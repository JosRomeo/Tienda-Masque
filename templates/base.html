<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}MasquePulpa{% endblock %}</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
  <link href="https://fonts.googleapis.com/css2?display=swap&family=Noto+Sans:wght@400;500;700;900&family=Spline+Sans:wght@400;500;700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

  <!-- Estilos personalizados -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/estilos.css') }}">
</head>
<body class="bg-[#fcfcf8] font-['Spline_Sans'] text-[#1c1c0d]">

  <header class="flex items-center justify-between border-b border-[#f4f4e6] px-10 py-4">
    <div class="flex items-center gap-3">
      <a href="{{ url_for('index') }}" class="flex items-center gap-2">
        <!-- Logo como imagen -->
        <img src="{{ url_for('static', filename='images/LogoFruta.png') }}"
             alt="MasquePulpa Logo"
             class="h-10 w-auto">
        <!-- Nombre de la marca -->
        <h1 class="text-2xl font-bold tracking-tight">MasquePulpa</h1>
      </a>
    </div>
    
    <nav class="flex items-center gap-6 text-base font-medium">
      <a href="{{ url_for('index') }}" class="hover:text-[var(--primary-color)] transition-colors">Inicio</a>
      <a href="{{ url_for('list_products') }}" class="hover:text-[var(--primary-color)] transition-colors">Tienda</a>

      {% if current_user.is_authenticated %}
        <!-- Icono de usuario -->
        <div class="relative group">
          <button class="flex items-center gap-2 hover:text-[var(--primary-color)] transition-colors">
            <span class="material-symbols-outlined text-3xl">account_circle</span>
          </button>
          <!-- Menú desplegable -->
          <div class="absolute right-0 mt-2 w-40 bg-white border rounded-md shadow-lg hidden group-hover:block">
            <a href="{{ url_for('profile') }}" class="block px-4 py-2 hover:bg-gray-100">Mi perfil</a>
            <a href="{{ url_for('logout') }}" class="block px-4 py-2 hover:bg-gray-100">Cerrar sesión</a>
          </div>
        </div>
      {% else %}
        <!-- Opciones si NO está logueado -->
        <a href="{{ url_for('login') }}" class="hover:text-[var(--primary-color)] transition-colors">Iniciar sesión</a>
        <a href="{{ url_for('register') }}" class="hover:text-[var(--primary-color)] transition-colors">Crear cuenta</a>
      {% endif %}
    </nav>
  </header>

  <main class="p-6">
    {% block content %}{% endblock %}
  </main>

</body>
</html>
